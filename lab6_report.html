<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Лабораторна робота №6: CI/CD</title>
    <style>
        @page {
            size: A4;
            margin: 2cm 1.5cm 2cm 3cm;
        }
        body {
            font-family: 'Times New Roman', serif;
            line-height: 1.5;
            width: 100%;
            margin: 0;
            padding: 2cm 1.5cm 2cm 3cm;
            background-color: white;
            font-size: 12pt;
            text-align: justify;
        }
        .title-page {
            text-align: center;
            page-break-after: always;
            padding-top: 6cm;
        }
        .title-page h1 {
            font-size: 14pt;
            font-weight: bold;
            margin-bottom: 1cm;
            text-transform: uppercase;
        }
        .title-page .subtitle {
            font-size: 12pt;
            margin-top: 2cm;
            margin-bottom: 1cm;
            font-weight: bold;
        }
        .title-page .info {
            font-size: 12pt;
            margin-top: 5cm;
            text-align: right;
        }
        h1 {
            font-size: 12pt;
            font-weight: bold;
            text-align: center;
            margin-top: 1.5cm;
            margin-bottom: 0.5cm;
            page-break-after: avoid;
            text-transform: uppercase;
        }
        h2 {
            font-size: 12pt;
            font-weight: bold;
            margin-top: 1cm;
            margin-bottom: 0.5cm;
            page-break-after: avoid;
        }
        h3 {
            font-size: 12pt;
            font-weight: bold;
            margin-top: 0.8cm;
            margin-bottom: 0.4cm;
            page-break-after: avoid;
        }
        p {
            text-align: justify;
            margin-bottom: 0.5cm;
            text-indent: 1.25cm;
        }
        .no-indent {
            text-indent: 0;
        }
        .code-block {
            background-color: #1e1e1e;
            border: 1px solid #000;
            padding: 0.4cm;
            margin: 0.5cm 0;
            font-family: 'Courier New', monospace;
            font-size: 10pt;
            overflow-x: auto;
            page-break-inside: avoid;
            white-space: pre-wrap;
            color: #d4d4d4;
            border-radius: 4px;
        }
        .code-block .keyword { color: #569cd6; font-weight: bold; }
        .code-block .string { color: #ce9178; }
        .code-block .comment { color: #6a9955; font-style: italic; }
        .screenshot {
            text-align: center;
            margin: 1cm 0;
            page-break-inside: avoid;
        }
        .screenshot img {
            width: 100%;
            max-width: 100%;
            height: auto;
            border: 1px solid #000;
            display: block;
        }
        .screenshot p {
            text-align: center;
            font-style: italic;
            margin-top: 0.3cm;
            font-size: 11pt;
        }
        .page-break {
            page-break-before: always;
        }
    </style>
</head>
<body>
    <!-- Титульна сторінка -->
    <div class="title-page">
        <h1>Лабораторна робота №6</h1>
        <div class="subtitle">
            Системи безперервної інтеграції та розгортання
        </div>
        <div class="info">
            <p><strong>Предмет:</strong><br>
            Технології та інструменти розробки програмного забезпечення</p>
            <p style="margin-top: 2cm; text-align: center;">
            <strong>Виконав:</strong> Багній І.А.<br>
            <strong>Група:</strong> КП-33<br>
            <strong>Викладач:</strong> Олещенко Л.М.<br>
            <strong>Рік:</strong> 2025</p>
        </div>
    </div>

    <!-- Завдання -->
    <h1 class="page-break">Завдання</h1>
    
    <h2>Мета роботи</h2>
    <p class="no-indent">
        Отримати навички застосування типових інструментів безперервної інтеграції та розгортання 
        програмного забезпечення (CI/CD).
    </p>

    <h2>Завдання роботи</h2>
    <ol>
        <li>У репозиторії GitHub, використовуючи GitHub Actions (або інший інструмент CI/CD), 
            створити Workflow для автоматизації процесів інтеграції, збірки (build) та розгортання 
            програмного забезпечення. При надсиланні змін у репозиторій Workflow повинен виконувати:
            <ul>
                <li>Виведення інформації про автора</li>
                <li>Автоматичну збірку додатку</li>
                <li>Публікацію релізу в репозиторії GitHub</li>
            </ul>
        </li>
        <li>Протестувати працездатність Workflow, виконавши зміни у репозиторії.</li>
        <li>Підготувати звіт з лабораторної роботи.</li>
    </ol>

    <!-- Виконане завдання -->
    <h1 class="page-break">Виконане завдання</h1>

    <h2>1. Створення Workflow файлу</h2>
    <p class="no-indent">
        Було створено файл <code>.github/workflows/ci.yml</code>, який відповідає за workflow. 
        Файл було надіслано через Git у репозиторій та запушено.
    </p>

    <h3>1.1. Код ci.yml</h3>
    <div class="code-block"><span class="keyword">name:</span> CI Build and Release

<span class="keyword">permissions:</span>
  contents: write

<span class="keyword">on:</span>
  push:
    branches:
      - main
      - dev

<span class="keyword">jobs:</span>
  build:
    runs-on: windows-latest
    
    steps:
      - <span class="keyword">name:</span> Checkout code
        <span class="keyword">uses:</span> actions/checkout@v4
      
      - <span class="keyword">name:</span> Show author info
        <span class="keyword">run:</span> |
          echo "Commit author:"
          git log -1 --pretty=format:"%an <%ae>"
          echo ""
          echo "Commit message:"
          git log -1 --pretty=format:"%s"
      
      - <span class="keyword">name:</span> Setup Python
        <span class="keyword">uses:</span> actions/setup-python@v4
        <span class="keyword">with:</span>
          python-version: <span class="string">'3.11'</span>
      
      - <span class="keyword">name:</span> Install dependencies
        <span class="keyword">run:</span> |
          python -m pip install --upgrade pip
          pip install -r requirements.txt
      
      - <span class="keyword">name:</span> Build project
        <span class="keyword">run:</span> |
          echo "Building SmartNotes application..."
          python -m py_compile smartnotes/app.py
          python -m py_compile smartnotes/gui.py
          echo "Build completed successfully!"
      
      - <span class="keyword">name:</span> Run tests
        <span class="keyword">run:</span> |
          python -m smartnotes.app list
          echo "Tests passed!"
      
      - <span class="keyword">name:</span> Create GitHub Release
        <span class="keyword">uses:</span> softprops/action-gh-release@v1
        <span class="keyword">with:</span>
          tag_name: auto-release-${{ github.run_number }}
          name: Auto Release ${{ github.run_number }}
          body: |
            Automated release from CI/CD workflow
            
            **Commit:** ${{ github.sha }}
            **Author:** ${{ github.actor }}
            **Branch:** ${{ github.ref_name }}
            
            This release was automatically created by GitHub Actions.
          draft: false
          prerelease: false
        <span class="keyword">env:</span>
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}</div>

    <h3>1.2. Опис Workflow</h3>
    <p class="no-indent">
        Workflow налаштований для автоматичного запуску при push в гілки <code>main</code> та <code>dev</code>. 
        Він виконує наступні кроки:
    </p>
    <ul>
        <li><strong>Checkout code</strong> - отримує код з репозиторію</li>
        <li><strong>Show author info</strong> - виводить інформацію про автора коміту та повідомлення коміту</li>
        <li><strong>Setup Python</strong> - налаштовує Python середовище версії 3.11</li>
        <li><strong>Install dependencies</strong> - встановлює необхідні залежності з requirements.txt</li>
        <li><strong>Build project</strong> - компілює Python файли додатку SmartNotes</li>
        <li><strong>Run tests</strong> - запускає базові тести для перевірки працездатності</li>
        <li><strong>Create GitHub Release</strong> - автоматично створює реліз у репозиторії GitHub</li>
    </ul>

    <h2>2. Тестування Workflow</h2>
    <p class="no-indent">
        Для перевірки працездатності workflow було виконано push змін у репозиторій.
    </p>

    <h3>2.1. Виконання Git команд</h3>
    <div class="code-block">$ git add .
$ git commit -m "Add CI/CD workflow"
$ git push origin main</div>

    <h3>2.2. Результати виконання Workflow</h3>
    <p class="no-indent">
        Після надсилання файлів workflow автоматично запустився. У розділі Actions GitHub можна 
        побачити процес виконання та результати.
    </p>

    <div class="screenshot">
        <p>Рисунок 1 - Workflow успішно виконано (зелена галочка)</p>
        <p style="font-style: normal; color: #666;">[Тут буде скріншот успішного виконання workflow з GitHub Actions]</p>
    </div>

    <div class="screenshot">
        <p>Рисунок 2 - Деталі виконання кроків workflow</p>
        <p style="font-style: normal; color: #666;">[Тут буде скріншот з деталями виконання, включаючи виведення інформації про автора]</p>
    </div>

    <div class="screenshot">
        <p>Рисунок 3 - Створений автоматичний реліз</p>
        <p style="font-style: normal; color: #666;">[Тут буде скріншот створеного релізу в розділі Releases]</p>
    </div>

    <h2>3. Висновок</h2>
    <p class="no-indent">
        Під час виконання лабораторної роботи отримано практичні навички налаштування процесу 
        безперервної інтеграції та розгортання (CI/CD) на платформі GitHub Actions. Створено 
        workflow файл, який автоматизує збірку Python додатку SmartNotes при кожному оновленні 
        репозиторію. Працездатність системи перевірено: після внесення змін у код автоматично 
        генерується новий реліз з готовою програмою.
    </p>
    <p class="no-indent">
        GitHub Actions забезпечує надійну автоматизацію процесів розробки, дозволяючи швидко 
        виявляти помилки та автоматично розгортати нові версії програмного забезпечення.
    </p>

</body>
</html>

