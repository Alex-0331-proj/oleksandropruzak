<svg width="1200" height="800" xmlns="http://www.w3.org/2000/svg">
  <rect width="1200" height="800" fill="#1e1e1e"/>
  <rect width="1200" height="40" fill="#2d2d30"/>
  <text x="20" y="25" fill="#cccccc" font-family="Consolas, monospace" font-size="12">File Edit View Debug Run Terminal Help</text>
  
  <rect x="0" y="40" width="300" height="760" fill="#252526"/>
  <rect x="300" y="40" width="2" height="760" fill="#3e3e42"/>
  
  <rect x="302" y="40" width="898" height="30" fill="#2d2d30"/>
  <rect x="302" y="40" width="200" height="30" fill="#1e1e1e"/>
  <text x="310" y="60" fill="#cccccc" font-family="Consolas, monospace" font-size="11">SearchService.js</text>
  
  <rect x="302" y="70" width="898" height="400" fill="#1e1e1e"/>
  
  <!-- Помилка виділена -->
  <rect x="340" y="188" width="860" height="20" fill="#5a1d1d"/>
  
  <text x="320" y="100" fill="#d4d4d4" font-family="Consolas, monospace" font-size="13">function searchNotes(query) {</text>
  <text x="320" y="125" fill="#808080" font-family="Consolas, monospace" font-size="13">  // ПОМИЛКА: використання ASCII-only нормалізації</text>
  
  <text x="320" y="150" fill="#d4d4d4" font-family="Consolas, monospace" font-size="13">  const</text>
  <text x="385" y="150" fill="#9cdcfe" font-family="Consolas, monospace" font-size="13">normalizedQuery</text>
  <text x="530" y="150" fill="#d4d4d4" font-family="Consolas, monospace" font-size="13">= query.</text>
  <text x="610" y="150" fill="#dcdcaa" font-family="Consolas, monospace" font-size="13">toLowerCase</text>
  <text x="730" y="150" fill="#d4d4d4" font-family="Consolas, monospace" font-size="13">().</text>
  <text x="750" y="150" fill="#dcdcaa" font-family="Consolas, monospace" font-size="13">replace</text>
  <text x="820" y="150" fill="#d4d4d4" font-family="Consolas, monospace" font-size="13">(/[^a-z0-9]/g, '');</text>
  
  <text x="320" y="175" fill="#d4d4d4" font-family="Consolas, monospace" font-size="13">  const</text>
  <text x="385" y="175" fill="#9cdcfe" font-family="Consolas, monospace" font-size="13">results</text>
  <text x="450" y="175" fill="#d4d4d4" font-family="Consolas, monospace" font-size="13">= [];</text>
  
  <text x="320" y="200" fill="#d4d4d4" font-family="Consolas, monospace" font-size="13">  for</text>
  <text x="355" y="200" fill="#d4d4d4" font-family="Consolas, monospace" font-size="13">(const note</text>
  <text x="460" y="200" fill="#c586c0" font-family="Consolas, monospace" font-size="13">of</text>
  <text x="485" y="200" fill="#d4d4d4" font-family="Consolas, monospace" font-size="13">indexedNotes) {</text>
  
  <text x="340" y="225" fill="#808080" font-family="Consolas, monospace" font-size="13">    // Кирилиця буде видалена, пошук не спрацює</text>
  
  <text x="340" y="250" fill="#d4d4d4" font-family="Consolas, monospace" font-size="13">    const</text>
  <text x="405" y="250" fill="#9cdcfe" font-family="Consolas, monospace" font-size="13">normalizedContent</text>
  <text x="540" y="250" fill="#d4d4d4" font-family="Consolas, monospace" font-size="13">= note.content.</text>
  <text x="670" y="250" fill="#dcdcaa" font-family="Consolas, monospace" font-size="13">toLowerCase</text>
  <text x="790" y="250" fill="#d4d4d4" font-family="Consolas, monospace" font-size="13">().</text>
  <text x="810" y="250" fill="#dcdcaa" font-family="Consolas, monospace" font-size="13">replace</text>
  <text x="880" y="250" fill="#d4d4d4" font-family="Consolas, monospace" font-size="13">(/[^a-z0-9]/g, '');</text>
  
  <!-- Панель помилок -->
  <rect x="302" y="470" width="898" height="330" fill="#252526"/>
  <text x="320" y="495" fill="#ff6b6b" font-family="Consolas, monospace" font-size="12" font-weight="bold">PROBLEMS</text>
  <line x1="302" y1="505" x2="1200" y2="505" stroke="#3e3e42" stroke-width="1"/>
  
  <text x="320" y="535" fill="#ff6b6b" font-family="Consolas, monospace" font-size="12">⚠ Error: Cyrillic characters removed</text>
  <text x="320" y="560" fill="#cccccc" font-family="Consolas, monospace" font-size="11">Location: SearchService.js:4</text>
  
  <text x="320" y="595" fill="#9cdcfe" font-family="Consolas, monospace" font-size="12">normalizedQuery after replace:</text>
  <text x="520" y="595" fill="#ce9178" font-family="Consolas, monospace" font-size="12">""</text>
  <text x="540" y="595" fill="#ff6b6b" font-family="Consolas, monospace" font-size="11">(empty string - Cyrillic removed!)</text>
  
  <text x="320" y="640" fill="#cccccc" font-family="Consolas, monospace" font-size="12" font-weight="bold">DEBUG CONSOLE</text>
  <line x1="302" y1="650" x2="1200" y2="650" stroke="#3e3e42" stroke-width="1"/>
  <text x="320" y="675" fill="#ff6b6b" font-family="Consolas, monospace" font-size="11">❌ ERROR: Unicode normalization issue</text>
  <text x="320" y="695" fill="#cccccc" font-family="Consolas, monospace" font-size="11">Input: "зустріч" (Ukrainian)</text>
  <text x="320" y="715" fill="#ff6b6b" font-family="Consolas, monospace" font-size="11">After replace(/[^a-z0-9]/g, ''): "" (empty!)</text>
  <text x="320" y="735" fill="#cccccc" font-family="Consolas, monospace" font-size="11">All Cyrillic characters were removed by regex</text>
  <text x="320" y="755" fill="#ff6b6b" font-family="Consolas, monospace" font-size="11">This demonstrates the root cause of the defect</text>
</svg>
